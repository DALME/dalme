{"remainingRequest":"/Users/gabep/Repos/DALME-Online-Database/dalme_ui/node_modules/babel-loader/lib/index.js!/Users/gabep/Repos/DALME-Online-Database/dalme_ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gabep/Repos/DALME-Online-Database/dalme_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gabep/Repos/DALME-Online-Database/dalme_ui/src/components/dt.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gabep/Repos/DALME-Online-Database/dalme_ui/src/components/dt.vue","mtime":1594576962028},{"path":"/Users/gabep/Repos/DALME-Online-Database/dalme_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gabep/Repos/DALME-Online-Database/dalme_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/gabep/Repos/DALME-Online-Database/dalme_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gabep/Repos/DALME-Online-Database/dalme_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCBhcGkgZnJvbSAnQC9hcGkvQXBpUm91dGVyJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBlbmRwb2ludDogU3RyaW5nLAogICAgdGl0bGU6IFN0cmluZwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CgogICAgICBpZiAodGhpcy5zZWFyY2gpIHsKICAgICAgICB0aGlzLm9wdGlvbnMuc2VhcmNoID0gdGhpcy5zZWFyY2g7CiAgICAgIH0KCiAgICAgIGFwaS5nZXQodGhpcy5lbmRwb2ludCwgJ2xpc3QnLCB0aGlzLm9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmVudHJpZXMgPSByZXMuZGF0YS5yZXN1bHRzOwogICAgICAgIF90aGlzLmhlYWRlcnMgPSByZXMuZGF0YS5oZWFkZXJzOwogICAgICAgIF90aGlzLnRvdGFsX2VudHJpZXMgPSByZXMuZGF0YS5pdGVtc1BlclBhZ2U7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBlZGl0SXRlbTogZnVuY3Rpb24gZWRpdEl0ZW0oaXRlbSkgewogICAgICB0aGlzLmVkaXRlZEluZGV4ID0gdGhpcy5lbnRyaWVzLmluZGV4T2YoaXRlbSk7CiAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pOwogICAgICB0aGlzLmRpYWxvZyA9IHRydWU7CiAgICB9LAogICAgZGVsZXRlSXRlbTogZnVuY3Rpb24gZGVsZXRlSXRlbShpdGVtKSB7CiAgICAgIHZhciBpbmRleCA9IHRoaXMuZW50cmllcy5pbmRleE9mKGl0ZW0pOwogICAgICBjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgY2l0eT8nKSAmJiB0aGlzLmVudHJpZXMuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBfdGhpczIuZGVmYXVsdEl0ZW0pOwogICAgICAgIF90aGlzMi5lZGl0ZWRJbmRleCA9IC0xOwogICAgICB9LCAzMDApOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIGlmICh0aGlzLmVkaXRlZEluZGV4ID4gLTEpIHsKICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZW50cmllc1t0aGlzLmVkaXRlZEluZGV4XSwgdGhpcy5lZGl0ZWRJdGVtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVudHJpZXMucHVzaCh0aGlzLmVkaXRlZEl0ZW0pOwogICAgICB9CgogICAgICB0aGlzLmNsb3NlKCk7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgbm90aWZpY2F0aW9uOiBmYWxzZSwKICAgICAgc2luZ2xlU2VsZWN0OiBmYWxzZSwKICAgICAgc2VsZWN0ZWQ6IFtdLAogICAgICBzZWFyY2g6ICcnLAogICAgICB0b3RhbF9lbnRyaWVzOiAwLAogICAgICBvcHRpb25zOiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBpdGVtc1BlclBhZ2U6IDUwCiAgICAgIH0sCiAgICAgIGVudHJpZXM6IFtdLAogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBoZWFkZXJzOiBbXSwKICAgICAgZWRpdGVkSW5kZXg6IC0xLAogICAgICBlZGl0ZWRJdGVtOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgYWRtaW5pc3RyYXRpdmVfcmVnaW9uOiAnJywKICAgICAgICBjb3VudHJ5OiAnJwogICAgICB9LAogICAgICBkZWZhdWx0SXRlbTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGFkbWluaXN0cmF0aXZlX3JlZ2lvbjogJycsCiAgICAgICAgY291bnRyeTogJycKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBmb3JtVGl0bGU6IGZ1bmN0aW9uIGZvcm1UaXRsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZWRpdGVkSW5kZXggPT09IC0xID8gJ05ldyBDaXR5JyA6ICdFZGl0IENpdHknOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG9wdGlvbnM6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICB0aGlzLmdldERhdGEoKTsKICAgICAgfQogICAgfSwKICAgIHNlYXJjaDogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgICB9CiAgICB9LAogICAgZGlhbG9nOiBmdW5jdGlvbiBkaWFsb2codmFsKSB7CiAgICAgIHZhbCB8fCB0aGlzLmNsb3NlKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXREYXRhKCk7CiAgfQp9Ow=="},{"version":3,"sources":["dt.vue"],"names":[],"mappings":"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","sourcesContent":["<script>\nimport api from '@/api/ApiRouter'\n\nexport default {\n  props: {\n    endpoint: String,\n    title: String,\n  },\n  methods: {\n    getData() {\n      this.loading = true;\n      if (this.search) {\n        this.options.search = this.search\n      }\n      api.get(this.endpoint, 'list', this.options).then(res => {\n        this.entries = res.data.results\n        this.headers = res.data.headers\n        this.total_entries = res.data.itemsPerPage\n        this.loading = false\n      })\n    },\n    editItem(item) {\n      this.editedIndex = this.entries.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialog = true\n    },\n    deleteItem(item) {\n      const index = this.entries.indexOf(item)\n      confirm('Are you sure you want to delete this city?') && this.entries.splice(index, 1)\n    },\n    close() {\n      this.dialog = false\n      setTimeout(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      }, 300)\n    },\n    save() {\n      if (this.editedIndex > -1) {\n        Object.assign(this.entries[this.editedIndex], this.editedItem)\n      } else {\n        this.entries.push(this.editedItem)\n      }\n      this.close()\n    },\n  },\n  data() {\n    return {\n      dialog: false,\n      notification: false,\n      singleSelect: false,\n      selected: [],\n      search: '',\n      total_entries: 0,\n      options: {\n        page: 1,\n        itemsPerPage: 50,\n      },\n      entries: [],\n      loading: true,\n      headers: [],\n      editedIndex: -1,\n      editedItem: {\n        name: '',\n        administrative_region: '',\n        country: '',\n      },\n      defaultItem: {\n        name: '',\n        administrative_region: '',\n        country: '',\n      },\n    }\n  },\n  computed: {\n      formTitle() {\n        return this.editedIndex === -1 ? 'New City' : 'Edit City'\n      },\n  },\n  watch: {\n      options: {\n        handler() {\n          this.getData()\n        }\n      },\n      search: {\n        handler() {\n          this.getData()\n        }\n      },\n      dialog(val) {\n        val || this.close()\n      },\n  },\n  mounted() {\n    this.getData();\n  }\n};\n</script>\n"],"sourceRoot":"src/components"}]}